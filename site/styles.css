:root{
  --bg:#05060d;
  --star:#b9c6ff1a;
  --panel:#0d1220;
  --panelEdge:#1d2740;
  --accent:#ffd36b;
  --accent2:#e9f1ff;
  --red:#ff3b3b;
  --green:#76ffb2;
  --text:#e6e9f3;
  --muted:#9aa5c4;
  --radius:18px;
  --shadow:0 10px 30px #0008, 0 1px 0 #fff1 inset;
  --glow:0 0 24px 8px rgba(255,59,59,.35);
  --scan:linear-gradient(#0000 48%, #ffffff08 50%, #0000 52%);
}

/* Starfield background (pure CSS) */
html,body{height:100%}
body{
  margin:0;background:radial-gradient(1200px 800px at 60% -10%, #0a1030 0, #05060d 70%),
  radial-gradient(800px 600px at 10% 110%, #0b1437 0, #05060d 60%), var(--bg);
  color:var(--text); font:400 16px/1.4 ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial;
  background-attachment: fixed;
}
body::before, body::after{
  content:""; position:fixed; inset:0; pointer-events:none;
  background:
    radial-gradient(1px 1px at 20% 30%, var(--star) 99%, #0000 100%),
    radial-gradient(1px 1px at 80% 10%, var(--star) 99%, #0000 100%),
    radial-gradient(1px 1px at 60% 60%, var(--star) 99%, #0000 100%),
    radial-gradient(1px 1px at 35% 80%, var(--star) 99%, #0000 100%),
    radial-gradient(1px 1px at 90% 70%, var(--star) 99%, #0000 100%);
  opacity:.9
}

.panel{
  max-width:460px; margin:clamp(16px,6vh,48px) auto; padding:20px 18px 16px;
  background:linear-gradient(180deg, #0f1530, #0a0f20); border:1px solid var(--panelEdge);
  border-radius:var(--radius); box-shadow:var(--shadow);
  display:grid; gap:14px; grid-template-rows:auto auto 1fr auto auto;
}
.panel__hdr h1{
  margin:0; font-weight:600; letter-spacing:.4px; text-align:center;
  background:linear-gradient(90deg, #fff, #ffd36b, #b6d0ff);
  -webkit-background-clip:text; background-clip:text; color:transparent;
  text-shadow:0 0 12px #ffffff22;
}

.siren{display:grid; place-items:center}
.siren__svg{width:min(82vw,360px); height:auto; filter:drop-shadow(0 6px 20px #ff3b3b22)}
.siren__dome{transition:filter .3s ease}
.siren__beam{opacity:.0; transform-origin:80px 70px}

/* Display */
.display{
  background:linear-gradient(180deg, #0b1020, #060914);
  border:1px solid #1a2340; border-radius:12px; padding:14px 16px; min-height:96px;
  box-shadow:inset 0 0 0 1px #ffffff08, inset 0 18px 30px #0008;
  position:relative; overflow:hidden;
}
.display::after{
  content:""; position:absolute; inset:0; background:var(--scan);
  background-size:100% 4px; opacity:.06; mix-blend-mode:screen; animation:scan 6s linear infinite;
}
@keyframes scan{to{background-position:0 100%}}

.display__headline{
  margin:.25rem 0 .2rem; font:600 20px/1.2 ui-sans-serif, system-ui; letter-spacing:.2px;
  color:#fff; text-shadow:0 0 12px #7fdcff22;
  opacity:.0;
}
.display__sub{
  margin:.1rem 0 0; color:var(--muted); font:500 14px/1.4 ui-monospace, SFMono-Regular, Menlo, Consolas, monospace;
  opacity:.0;
}

/* Button */
.btn{
  width:100%; padding:16px 18px; border-radius:12px; border:1px solid #27324f;
  background:linear-gradient(180deg, #14224a, #0e1a3a);
  color:#eaf2ff; font-weight:700; letter-spacing:.3px;
  box-shadow:0 6px 18px #0008, inset 0 1px 0 #ffffff22;
}
.btn:hover{filter:brightness(1.05)}
.btn:focus-visible{outline:2px solid #79b8ff; outline-offset:2px}
.btn[disabled]{opacity:.6; cursor:not-allowed}

/* ACTIVE STATE (when body[data-state="active"]) */
body[data-state="active"] .siren__beam{
  opacity:.9;
  animation:spin 3.8s linear infinite;
}
body[data-state="active"] .siren__dome{
  filter:drop-shadow(0 0 24px rgba(255,59,59,.55)) drop-shadow(0 0 60px rgba(255,59,59,.25));
}
@keyframes spin{to{transform:rotate(360deg)}}

body[data-state="active"] .display__headline,
body[data-state="active"] .display__sub{opacity:1; animation:typer 1.1s steps(14) 0s 1 both}
body[data-state="active"] .display__sub{animation:typer 1.3s steps(38) .15s 1 both}

@keyframes typer{from{clip-path:inset(0% 100% 0% 0)} to{clip-path:inset(0 0 0 0)}}

/* Reduced motion: no spin, just glow */
@media (prefers-reduced-motion: reduce){
  body[data-state="active"] .siren__beam{animation:none}
}
